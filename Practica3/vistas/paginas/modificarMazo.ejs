<h2>Modificar Mazos</h2>

<form action="/mazos/modificarMazo" method="POST">
  <fieldset>
    <% if (locals.mensaje) { %>
      <p><strong><%= locals.mensaje %></strong></p>
    <% } %>
    <legend>Datos del mazo:</legend>
    
    <div>
      <label for="nombre">Nombre:</label>
      <input type="text" id="nombre" name="nombre" required>
    </div>
    
    <div>
      <label for="nombre2">Nuevo nombre:</label>
      <input type="text" id="nombre2" name="nombre2">
    </div>
    
    <div class="form-group">
      <label for="cartas">Cartas:</label>
      <select id="cartas" name="cartas" multiple size="10" required>
        <% cartas.forEach(function(carta) { %>
          <option value="<%= carta.id %>"><%= carta.nombre %></option>
        <% }); %>
      </select>
      <p class="form-hint">(Puedes seleccionar hasta 10 cartas)</p>
    </div>
    
    <div>
      <button type="submit">Modificar mazo</button>
    </div>
    
  </fieldset>
</form>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const selectElement = document.getElementById('cartas');
    // Agregar listener mousedown a cada opci√≥n para alternar su estado sin necesidad de CTRL
    Array.from(selectElement.options).forEach(function(option) {
      option.addEventListener('mousedown', function(e) {
        e.preventDefault();
        this.selected = !this.selected;
      });
    });
  });
</script>
